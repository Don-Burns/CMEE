R is about to run

R version 3.6.1 (2019-07-05) -- "Action of the Toes"
Copyright (C) 2019 The R Foundation for Statistical Computing
Platform: x86_64-conda_cos6-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # CMEE 2019 HPC excercises R code HPC run code proforma
> 
> rm(list=ls()) # good practice 
> try(dev.off(), silent = T) # try to close any active devices, if there are no devices active ingore the error produced.
> 
> source("db319_HPC_2019_main.R") # laod functions
> 
> #### Q18 #####
> 
> iter <- as.numeric(Sys.getenv("PBS_ARRAY_INDEX")) # uncomment when running on the cluster
> 
> # iter <- 3 ##for local testing only, comment out when on cluster
> 
> speciation_rate <- 0.005502 # speciation rate generated by `get_my_speciation_rate.R`
> 
> 
> set.seed(iter) # set the seed for the run
> iter_range <- 100 # number of iterations for defining how many runs of each community size to use below, should be devisible by 4
> 
> # rotate through different community sizes
> if(1 <= iter & iter <= iter_range*0.25) size = 500 # if the first 25% of iterations size = 500 and so on 
> 
> if(iter_range*0.25 < iter & iter <= iter_range*0.5) size = 1000
> 
> if(iter_range*0.5 < iter & iter <= iter_range*0.75) size = 2500
> 
> if(iter_range*0.75 < iter & iter <= iter_range) size = 5000
> 
> FileName = paste("Cluster_Run_output", iter, ".rda", sep = '') #create file name for this iteration
> 
> cluster_run(speciation_rate = speciation_rate, size = size, wall_time = 11.5*60, interval_rich = 1, interval_oct = floor(size/10), burn_in_generations = 8*size, output_file_name = FileName)
> 
> 
> 
> 
> 
> 
> 
> 
> 
R has finished running

============================================

        Job resource usage summary 

                 Memory (GB)    NCPUs
 Requested  :         1             1
 Used       :         0 (peak)   0.98 (ave)

============================================
