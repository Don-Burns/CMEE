q
q()
?commandArgs
getwd()
setwd("~/Documents/CMEECourseWork/Week3/Code/)
)
""
)
''
a
a
a
a
a
a
a
"
setwd("~/Documents/CMEECourseWork/Week3/Code/")
source("get_TreeHeight.R")
source("get_TreeHeight.R")
source("get_TreeHeight.R hello")
source("get_TreeHeight.R" hello)
source("get_TreeHeight.R") hello
source("get_TreeHeight.R")
test
str(test)
file = NaN
file = commandArgs(trailingOnly = T)
if(is.nan(file)) file = "../data/trees.csv"
####### Read in file #############
file = commandArgs(trailingOnly = T)
if(file = "") file = "../data/trees.csv"
file <- read.table(file, sep = ',', header = TRUE, as.is = 1) ## read in data from trees.csv
####### Read in file #############
file = commandArgs(trailingOnly = T)
####### Read in file #############
file = commandArgs(trailingOnly = T)
if(file = "") file = "../data/trees.csv"
####### Read in file #############
file = commandArgs(trailingOnly = T)
if(file == "") file = "../data/trees.csv"
####### Read in file #############
file = commandArgs(trailingOnly = T)
if(length(file) == 0) file = "../data/trees.csv"
file <- read.table(file, sep = ',', header = TRUE, as.is = 1) ## read in data from trees.csv
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
?gsub
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
## Desc: ## Desc: This Function calculates heights of tree given  distance of each from its base and angle to its top, using trigonometric formula and writes a new file with the heights of the tree appended. \nInput: Realtive directory to .csv file containing species names, distance from tree in meters and angle to top of each tree in degress./nOutput: File named InputFileName"_Treeheight.csv"
####### Read in file #############
title = "../data/trees.csv"
# if no file is given run with a test file.
File = "../data/trees.csv"
# else run with the file given
if(length(commandArgs(trailingOnly = T)) != 0) {
File = commandArgs(trailingOnly = T)
title = commandArgs(trailingOnly = T)
}
############# Functions ###############
TreeHeight <- function(degrees, distance){
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return(height)
}
WriteFile <- function(input,outputDir){
FileSpecies <- rep(NA,nrow(input))
FileDist <- rep(NA, nrow(input))
FileDeg <- rep(NA, nrow(input))
FileHeight  <- rep(NA, nrow(input))
i = 0
for (i in 1:nrow(input)){
FileSpecies[i] <- input[i,1]
FileDist[i] <-  input[i,2]
FileDeg[i] <- input[i,3]
FileHeight[i] <- TreeHeight(input[i,2], input[i,3])
}
finalTable <- data.frame(FileSpecies, FileDist, FileDeg, FileHeight)
write.table(finalTable, file = outputDir, sep = ',', row.names = FALSE, col.names = c("Species", "Distance.m", "angle.degrees", "Tree.Height.m") )
return("Done!!!")
}
###### MAIN ######
## make the modified table, with heights
File <- read.table(File, sep = ',', header = TRUE, as.is = 1) ## read in data from trees.csv
## make new file name for output
FileName = gsub(".csv", "", title, ignore.case = F)
## Desc: ## Desc: This Function calculates heights of tree given  distance of each from its base and angle to its top, using trigonometric formula and writes a new file with the heights of the tree appended. \nInput: Realtive directory to .csv file containing species names, distance from tree in meters and angle to top of each tree in degress./nOutput: File named InputFileName"_Treeheight.csv"
####### Read in file #############
title = "../data/trees.csv"
# if no file is given run with a test file.
File = "../data/trees.csv"
# else run with the file given
if(length(commandArgs(trailingOnly = T)) != 0) {
File = commandArgs(trailingOnly = T)
title = commandArgs(trailingOnly = T)
}
############# Functions ###############
TreeHeight <- function(degrees, distance){
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return(height)
}
WriteFile <- function(input,outputDir){
FileSpecies <- rep(NA,nrow(input))
FileDist <- rep(NA, nrow(input))
FileDeg <- rep(NA, nrow(input))
FileHeight  <- rep(NA, nrow(input))
i = 0
for (i in 1:nrow(input)){
FileSpecies[i] <- input[i,1]
FileDist[i] <-  input[i,2]
FileDeg[i] <- input[i,3]
FileHeight[i] <- TreeHeight(input[i,2], input[i,3])
}
finalTable <- data.frame(FileSpecies, FileDist, FileDeg, FileHeight)
write.table(finalTable, file = outputDir, sep = ',', row.names = FALSE, col.names = c("Species", "Distance.m", "angle.degrees", "Tree.Height.m") )
return("Done!!!")
}
###### MAIN ######
## make the modified table, with heights
File <- read.table(File, sep = ',', header = TRUE, as.is = 1) ## read in data from trees.csv
Filename = basename(title)
## make new file name for output
title = basename(title)
FileName = gsub(".csv", "", title, ignore.case = F)
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
source('~/Documents/CMEECourseWork/Week3/Code/get_TreeHeight.R')
